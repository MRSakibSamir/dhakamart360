<div class="container my-4">
  <h2>{{ editingProductId ? 'Edit Product' : 'Add Product' }}</h2>

  <form [formGroup]="productForm" (ngSubmit)="submit()" enctype="multipart/form-data" class="mt-3">
    <div class="mb-3">
      <label for="name" class="form-label">Name</label>
      <input type="text" formControlName="name" class="form-control" id="name">
    </div>

    <div class="mb-3">
      <label for="description" class="form-label">Description</label>
      <textarea formControlName="description" class="form-control" id="description" rows="3"></textarea>
    </div>

    <div class="row">
      <div class="col-md-4 mb-3">
        <label for="price" class="form-label">Price</label>
        <input type="number" formControlName="price" class="form-control" id="price">
      </div>
      <div class="col-md-4 mb-3">
        <label for="quantity" class="form-label">Quantity</label>
        <input type="number" formControlName="quantity" class="form-control" id="quantity">
      </div>
      <div class="col-md-4 mb-3">
        <label for="category" class="form-label">Category</label>
        <select formControlName="categoryId" class="form-select" id="category">
          <option value="">Select Category</option>
          <option *ngFor="let cat of categories" [value]="cat.id">{{cat.name}}</option>
        </select>
      </div>
    </div>

    <!-- <div class="mb-3">
      <label for="images" class="form-label">Images</label>
      <input type="file" (change)="onFileChange($event)" multiple class="form-control" id="images">
      <div class="mt-2 d-flex flex-wrap">
        <img *ngFor="let img of selectedFilesPreview" [src]="img" class="me-2 mb-2" style="width: 100px; height: 100px; object-fit: cover; border-radius: 5px;">
      </div>
    </div> -->
    <div class="mb-3">
      <label for="images" class="form-label">Images</label>
      <input type="file" (change)="onFileChange($event)" multiple class="form-control" id="images">

      <div class="mt-2 d-flex flex-wrap">
        <div *ngFor="let img of selectedFilesPreview; let i = index" class="position-relative me-2 mb-2">
          <img [src]="img" style="width:100px; height:100px; object-fit:cover; border-radius:5px;">
          <button type="button" class="btn btn-danger btn-sm position-absolute top-0 end-0 p-1"
            (click)="removeSelectedImage(i)">
            &times;
          </button>
        </div>
      </div>
    </div>

    <button type="submit" class="btn btn-primary">{{ editingProductId ? 'Update' : 'Add' }} Product</button>
  </form>
</div>